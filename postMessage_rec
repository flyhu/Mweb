<!DOCTYPE html>   
<html>   
<head>   
<meta charset="UTF-8">   
<title>Domain2上的接收者页面receiver.html</title>   
<script>
//这个函数用于处理从Domain1上的sender发送过来的信息，然后将他们打印出来   
function receiveInfoFromAnotherDomain(){   
           
    console.log("entering method receiveInfoFromAnotherDomain()");   
  
    window.addEventListener("message",function(ev){   
               
        //如果不是来自指定Domain的，则忽略   
        //if(ev.origin !="http://localhost:8080"){   
         //   console.log("the event doesn't come from Domain1!");   
         //  return;   
       // }   
               

        console.log(ev.data);   
  
       var data = event.data;
        var InfoString="从域为： "+ev.origin+"那里传来的数据."+"<br>";   
        InfoString+="姓名是: "+data.name+"<br>";   
        InfoString+="event为：  "+data.event+"<br>";   
        InfoString+="e_data为：  "+data.e_data+"<br>";   
        document.body.innerHTML=InfoString;   
                       
        }   
               
    );   
       
       
       
       
}  
</script>   
</head>   
<body onload="receiveInfoFromAnotherDomain();">   
       
       
<p>这个页面是HTML5跨域访问的Domain2上的页面receiver.html，它会处理来自Domain1上sender.html发送的页面</p>   
       
       
</body>   
</html>  
